{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","handleSearchChange","htmlFor","onChange","name","PersonFrom","handleSubmit","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","value","type","Persons","persons","searchTerm","handleDelete","displayPersons","filter","person","toLowerCase","includes","map","key","id","number","onClick","Notification","message","console","log","messageStyle","color","backgroundColor","fontSize","borderStyle","borderRadius","padding","marginBottom","style","text","baseUrl","axios","get","newPerson","post","updatedPerson","put","delete","App","useState","setPersons","setNewName","setNewNumber","setSearchTerm","setMessage","useEffect","personService","then","response","data","event","target","PersonForm","e","preventDefault","some","toLocaleLowerCase","window","confirm","currentPerson","find","obj","setTimeout","catch","error","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fb96d4d5.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({handleSearchChange}) => {\n    return (\n        <>\n            <label htmlFor=\"filter\">filter shown with</label>\n            <input onChange={handleSearchChange} name=\"filter\" />\n        </>\n    )\n}\n\nexport default Filter;\n","import React from 'react';\n\nconst PersonFrom = ({handleSubmit, handleNameChange, handleNumberChange, newName, newNumber}) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        <label htmlFor=\"name\">name:</label>\n        <input onChange={handleNameChange} value={newName} name=\"name\" />\n        <br/>\n        <label htmlFor=\"number\">number</label>\n        <input onChange={handleNumberChange} value={newNumber} name=\"number\" />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n  </form>\n  )\n}\n\nexport default PersonFrom;","import React from 'react';\n\nconst Persons = ({persons, searchTerm, handleDelete}) => {\n    const displayPersons = persons.filter(person => (person.name.toLowerCase().includes(searchTerm)));\n    // console.log(displayPersons);  // Debug\n\n    return (\n        <>\n        {displayPersons.map(person =>  <p key={person.id}>{person.name} {person.number} <button onClick={() => handleDelete(person.id, person.name)}>delete</button> </p>)}\n        </>\n    )\n}\n\nexport default Persons;\n","import React from 'react';\n\nconst Notification = ({ message }) => {\n\n    if (message === null) {\n        return null;\n    }\n\n    else {\n        console.log(message.id);\n\n        let messageStyle = {\n            color: message.id,\n            backgroundColor: 'lightgray',\n            fontSize: 20,\n            borderStyle: 'solid',\n            borderRadius: 5,\n            padding: 10,\n            marginBottom: 10\n        };\n\n        return (\n            <div style={messageStyle}>\n                {message.text}\n            </div>\n        )\n    }\n}\n\nexport default Notification;","import axios from 'axios';\n\nconst baseUrl = \"/api/persons\"\n\nconst getPersons = () => {\n    return axios.get(baseUrl);\n}\n\nconst postPerson = (newPerson) => {\n    return axios.post(baseUrl, newPerson);\n}\n\nconst updatePerson = (id, updatedPerson) => {\n    return axios.put(`${baseUrl}/${id}`, updatedPerson);\n}\n\nconst deletePerson = (id) => {\n    return axios.delete(`${baseUrl}/${id}`);\n}\n\nexport default {\n    getPersons,\n    postPerson,\n    updatePerson,\n    deletePerson\n};","import React, {useState, useEffect} from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport Notification from './components/Notification';\nimport personService from './services/persons';\n//import './index.css'; // Alternative solution with centralized stylesheet\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ searchTerm, setSearchTerm ] = useState('');\n  const [ message, setMessage ] = useState(null);\n\n  useEffect(() => {\n    // console.log(\"effecting!\");  // Debug\n    personService.getPersons().then(response => setPersons(response.data));\n  }, []);\n\n  // Controlled Components\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n  const handleSearchChange = (event) => {\n    setSearchTerm(event.target.value.toLowerCase());\n  }\n\n  // Event handler\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    if (persons.some(person => person.name.toLowerCase() === newPerson.name.toLocaleLowerCase())) {  // Included '.toLowerCase()' to person.name and newPerson.name to also match lower case matches\n      const userChoice = window.confirm(`${newPerson.name} is already added to phonebook, replace the old number with a new one?`);\n\n      if (userChoice) {\n        const currentPerson = persons.find(obj => obj.name === newPerson.name);\n        personService.updatePerson(currentPerson.id, newPerson)\n          .then((response) => {\n            setPersons(persons.map(person => person.id !== currentPerson.id ? person : response.data));\n            setNewName('');\n            setNewNumber('');\n            setMessage({\n              text: `Added ${response.name}`,\n              id: 'green'\n            })\n            setTimeout(() => setMessage(null, 5000));\n          })\n          .catch(error => {\n            setMessage({\n              text: `Information of ${currentPerson.name} has already been removed from server`,\n              id: 'red'\n            })\n            setTimeout(() => setMessage(null), 5000);\n            setPersons(persons.filter(obj => (obj.id !== currentPerson.id)));\n          });\n      }\n    }\n    else {\n      personService\n        .postPerson(newPerson)\n        .then((response) => {\n          setPersons(persons.concat(response.data));\n          setNewName('');\n          setNewNumber('');\n          setMessage({\n            text: `Added ${newPerson.name}`,\n            id: 'green'\n          })\n          setTimeout(() => setMessage(null), 5000);\n        });\n    }\n  }\n  const handleDelete = (id, name) => {\n    const userChoice = window.confirm(`Delete ${name}?`);\n\n    if (userChoice) {\n      personService.deletePerson(id)\n      .then(response => setPersons(persons.filter(obj => (obj.id !== id))))\n      .catch(error => {\n        setMessage({\n          text: `Information of ${name} has already been removed from server`,\n          id: 'red'\n        })\n        setTimeout(() => setMessage(null), 5000);\n        setPersons(persons.filter(obj => (obj.id !== id)));\n      });\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter handleSearchChange={handleSearchChange}/>\n      <h3>add a new</h3>\n      <PersonForm\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        newName={newName}\n        newNumber={newNumber}\n        handleSubmit={handleSubmit}\n        />\n      <h3>Numbers</h3>\n        <Persons\n          persons={persons}\n          searchTerm={searchTerm}\n          handleDelete={handleDelete}\n          />\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}